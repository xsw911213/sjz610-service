webpackJsonp([4],{1e3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(232),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default={data:function(){return{maxSize:3,dataid:"",img:"",uploadform:{key:"",token:""}}},methods:{init:function(){var t=this,e=function(e){e.data&&(t.img=e.data.imgurl,t.dataid=e.data._id)},n=function(t){console.log(t)},i={method:"get",path:t.host.baseUrl+"/viewservice"};t.ajax.http(i.method,i.path,{},e,n)},handleAvatarSuccess:function(t,e,n){this.img=""+this.host.imgBaseUrl+t.key},beforeAvatarUpload:function(t){var e=t.size/1024/1024<this.maxSize,n=this;if(e){var i={fileName:t.name};return o.default.get(n.host.baseUrl+"/uploadimg",{params:i}).then(function(t){"1"===t.data.code?n.uploadform={key:t.data.result.fileName,token:t.data.result.uploadToken}:n.$message.error("上传图片失败")}).catch(function(){n.$message.error("上传图片失败")})}return n.$message.error("上传图片大小不能超过 "+this.maxSize+"MB!"),e},reset:function(){this.img=""},save:function(){var t=this,e=this,n=function(e){t.$notify({title:"保存成功",message:"图片保存成功",type:"success"})},i=function(t){console.log(t)},o={method:""===e.dataid?"post":"put",path:e.host.baseUrl+"/viewservice"},a={};"post"===o.method?a.imgurl=e.img:"put"===o.method&&(a._id=e.dataid,a.imgurl=e.img),e.ajax.http(o.method,o.path,a,n,i)}},mounted:function(){this.init()}}},1009:function(t,e,n){e=t.exports=n(984)(),e.push([t.i,".phone{position:relative;box-sizing:border-box;width:337.5px;padding-top:45px;background-color:#525252}.phone .header,.phone .header p{position:absolute;height:45px;width:337.5px;top:0}.phone .header p{line-height:45px;margin:0;font-size:18px;text-align:center;color:#fff}.phone .img-demo{box-sizing:border-box;position:relative;width:337.5px;height:540px;background-color:#fff;border:1px solid #525252;overflow:auto}.phone .img-demo img{display:block;width:100%}.btns{position:absolute;width:200px;left:367.5px;top:50px}.btns .el-input{width:40px}.btns .el-input .el-input__inner{padding:0 10px;text-align:center}.btns button{width:100px;margin-top:40px;margin-left:25px!important}.avatar-uploader{width:337.5px;height:540px;background-color:#fff}.avatar-uploader-icon{box-sizing:border-box;font-size:28px;color:#8c939d;line-height:540px;text-align:center;border:1px solid #525252}.avatar,.avatar-uploader-icon,.el-upload{width:337.5px;height:540px}.avatar{object-fit:contain}","",{version:3,sources:["/Users/wei/codespace/www/yy/sjz610-admin/src/views/ViewService.vue"],names:[],mappings:"AACA,OACE,kBAAmB,AACnB,sBAAuB,AACvB,cAAe,AACf,iBAAkB,AAClB,wBAA0B,CAC3B,AAOD,gCALI,kBAAmB,AACnB,YAAa,AACb,cAAe,AACf,KAAO,CAYV,AAVD,iBAGM,iBAAkB,AAGlB,SAAU,AACV,eAAgB,AAChB,kBAAmB,AACnB,UAAY,CACjB,AACD,iBACI,sBAAuB,AACvB,kBAAmB,AACnB,cAAe,AACf,aAAc,AACd,sBAAuB,AACvB,yBAA0B,AAC1B,aAAe,CAClB,AACD,qBACM,cAAe,AACf,UAAY,CACjB,AACD,MACE,kBAAmB,AACnB,YAAa,AACb,aAAc,AACd,QAAU,CACX,AACD,gBACI,UAAY,CACf,AACD,iCACM,eAAgB,AAChB,iBAAmB,CACxB,AACD,aACI,YAAa,AACb,gBAAiB,AACjB,0BAA6B,CAChC,AACD,iBACE,cAAe,AACf,aAAc,AACd,qBAAuB,CACxB,AACD,sBACE,sBAAuB,AACvB,eAAgB,AAChB,cAAe,AAGf,kBAAmB,AACnB,kBAAmB,AACnB,wBAA0B,CAC3B,AAKD,yCAVE,cAAe,AACf,YAAc,CAaf,AAJD,QAGE,kBAAoB,CACrB",file:"ViewService.vue",sourcesContent:["\n.phone {\n  position: relative;\n  box-sizing: border-box;\n  width: 337.5px;\n  padding-top: 45px;\n  background-color: #525252;\n}\n.phone .header {\n    position: absolute;\n    height: 45px;\n    width: 337.5px;\n    top: 0;\n}\n.phone .header p {\n      position: absolute;\n      height: 45px;\n      line-height: 45px;\n      width: 337.5px;\n      top: 0;\n      margin: 0;\n      font-size: 18px;\n      text-align: center;\n      color: #fff;\n}\n.phone .img-demo {\n    box-sizing: border-box;\n    position: relative;\n    width: 337.5px;\n    height: 540px;\n    background-color: #fff;\n    border: 1px solid #525252;\n    overflow: auto;\n}\n.phone .img-demo img {\n      display: block;\n      width: 100%;\n}\n.btns {\n  position: absolute;\n  width: 200px;\n  left: 367.5px;\n  top: 50px;\n}\n.btns .el-input {\n    width: 40px;\n}\n.btns .el-input .el-input__inner {\n      padding: 0 10px;\n      text-align: center;\n}\n.btns button {\n    width: 100px;\n    margin-top: 40px;\n    margin-left: 25px !important;\n}\n.avatar-uploader {\n  width: 337.5px;\n  height: 540px;\n  background-color: #fff;\n}\n.avatar-uploader-icon {\n  box-sizing: border-box;\n  font-size: 28px;\n  color: #8c939d;\n  width: 337.5px;\n  height: 540px;\n  line-height: 540px;\n  text-align: center;\n  border: 1px solid #525252;\n}\n.el-upload {\n  width: 337.5px;\n  height: 540px;\n}\n.avatar {\n  width: 337.5px;\n  height: 540px;\n  object-fit: contain;\n}\n"],sourceRoot:""}])},1018:function(t,e,n){var i=n(1009);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(985)("f485f1f2",i,!0)},1027:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticStyle:{position:"relative"}},[n("div",{staticClass:"phone"},[t._m(0),t._v(" "),t.img?n("div",{staticClass:"img-demo"},[n("img",{attrs:{src:t.img,alt:""}})]):n("el-upload",{staticClass:"avatar-uploader",attrs:{action:"//up.qbox.me/","show-file-list":!1,data:t.uploadform,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),n("div",{staticClass:"btns"},[t._v("\n\t\t图片大小限制为 "),n("el-input",{attrs:{size:"small"},model:{value:t.maxSize,callback:function(e){t.maxSize=e},expression:"maxSize"}}),t._v(" M\n\t\t"),n("el-button",{attrs:{type:"primary"},on:{click:t.reset}},[t._v("重新上传")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("p",[t._v("观摩服务示例")])])}]}},991:function(t,e,n){n(1018);var i=n(118)(n(1e3),n(1027),null,null);t.exports=i.exports}});
//# sourceMappingURL=4.84ab780a62f9013122f8.js.map