{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///src/views/Signin.vue","webpack:///./src/views/Signin.vue?6f99","webpack:///./src/views/Signin.vue"],"names":["core","module","exports","version","__e","default","__webpack_require__","__esModule","$JSON","JSON","stringify","it","apply","arguments","Signin","name","data","h1","h2","placeholder","btnText","successText","signed","errorPormot","phoneNumber","nextBtnDisabled","english","methods","vailablePhone","phone","this","test","netx","_this","axios","method","url","tel","signined","baseURL","host","baseUrl","then","res","console","log","code","localStorage","removeItem","setItem","stringify_default","mounted","localData","parse","getItem","$route","query","lang","views_Signin","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","_v","_s","directives","rawName","value","expression","type","domProps","on","input","$event","target","composing","class","click","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.6eca37c2dc680c8dc55d.js","sourcesContent":["var core = module.exports = { version: '2.5.5' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_core.js\n// module id = FeBl\n// module chunks = 2 4","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 2 4","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 2 4","<template>\n  <div id=\"signin\">\n    <div class=\"head\">\n      <div v-if=\"!signed\">\n        <!-- <img src=\"../../static/icon/signin-icon.png\" alt=\"\"> -->\n        <p class=\"h2\">{{h2}}</p>\n      </div>\n      <div v-else>\n        <p class=\"h1\">{{h1}}</p>\n      </div>\n    </div>\n    <div class=\"form\">\n      <div v-if=\"!signed\">\n        <input v-model=\"phoneNumber\" type=\"tel\" :placeholder=\"placeholder\" @input=\"vailablePhone\">\n        <p class=\"error\">{{errorPormot}}</p>\n        <a :class=\"`next-btn ${ nextBtnDisabled ? 'disabled':''}`\" @click=\"netx\">{{btnText}}</a>\n      </div>\n      <div v-else>\n        <!-- <img class=\"signined\" src=\"../../static/icon/signed.png\" alt=\"\"> -->\n        <p class=\"signined-text\">{{successText}}</p>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name:'signin',\n  data() {\n    return {\n      h1:'已签到',\n      h2:'请完成签到',\n      placeholder:'请输入手机号',\n      btnText:'下一步',\n      successText:'恭喜您签到成功',\n      signed: false,\n      errorPormot: '',\n      phoneNumber:'',\n      nextBtnDisabled: true,\n      english:false\n    }\n  },\n  methods : {\n    vailablePhone() {\n      //手机号正则  \n      var phoneReg = /(^1[3|4|5|7|8]\\d{9}$)|(^09\\d{8}$)/;  \n      //电话  \n      var phone = this.phoneNumber; \n      if (!phoneReg.test(phone)) { \n        this.errorPormot = \"请输入有效的手机号码！\"\n        if(this.english){\n            this.errorPormot = \"Please enter a valid phone number!\"\n          }\n        this.nextBtnDisabled = true;\n      } else {\n        this.errorPormot = \"\";\n        this.nextBtnDisabled = false;\n      }\n    },\n    netx(){\n      let _this = this;\n\n      if(this.nextBtnDisabled){\n        return\n      }\n\n      _this.axios({\n        method: 'put',\n        url: '/persondata',\n        data:{tel:_this.phoneNumber,signined:true},\n        baseURL: _this.host.baseUrl\n        //baseURL:'http://10.168.34.43:3008/api'\n      }).then((res)=>{\n        console.log(res);\n        let data = res.data;\n        if(data.code){\n          _this.signed = true;\n          localStorage.removeItem('localData');\n          localStorage.setItem('localData', JSON.stringify({tel:_this.phoneNumber,signined:true}));\n        }else{\n          _this.errorPormot = \"请输入您预留的手机号\"\n          if(_this.english){\n            _this.errorPormot = \"Please enter your reserved mobile number\"\n          }\n        }\n      })      \n    }\n  },\n  mounted(){\n    let localData = JSON.parse(localStorage.getItem('localData'));\n\n    if(localData && localData.signined){\n      this.signed = true;\n    }\n    \n    console.log(this.$route.query.lang)\n    \n    if(this.$route.query.lang === 'en'){\n      this.english = true;\n      this.h1 = 'Checked in';\n      this.h2 = 'Please sign in';\n      this.placeholder = 'Enter phone number';\n      this.btnText = 'Next';\n      this.successText = 'Congratulations';\n    }\n    // setTimeout(()=>{\n    //   this.errorPormot = \"请输入正确的手机号\"\n    // },3000)\n  }\n}\n</script>\n<style lang=\"scss\">\n#signin{\n  position: absolute;\n  width: 100%;\n  min-height: 100%;\n  background-color: #fff;\n\n  .head{\n    width: 100%;\n    height: 70vw;\n    background-color: #2eaff1;\n    text-align: center;\n    div{\n      position: absolute;\n      width: 100%;\n      height: 100%;\n\n      img{\n        width: 22vw;\n        height: 22vw;\n        margin-top: 20vw;\n      }\n\n      .h2{\n        color: #fff;\n        margin-top: 10px;\n        font-size: 40px;\n      }\n\n      .h1{\n        color: #fff;\n        margin-top: 25vw;\n        font-size: 60px;\n      }\n    }\n\n    \n  }\n  .form{\n    width: 100%;\n    text-align: center;\n\n    div{\n      input{\n        display: inline-block;\n        width: 60vw;\n        height: 40px;\n        line-height: 40px;\n        text-align: center;\n        font-size: 24px;\n        border: none;\n        border-bottom: solid 2px #c4c4c4;\n        margin-top: 50px;\n      }\n\n      .error{\n        font-size: 14px;\n        height: 14px;\n        line-height: 14px;\n        margin-top: 15px;\n        color: #dd3636;\n      }\n\n      .next-btn{\n        display: inline-block;\n        width: 60vw;\n        height: 11vw;\n        line-height: 11vw;\n        font-size: 24px;\n        text-align: center;\n        color: #fff;\n        background-color: #2eaff1;\n        margin-top: 20px;\n      }\n      .disabled{\n        background-color: #d1d1d1;\n      }\n\n\n      .signined{\n        width: 25vw;\n        height: 25vw;\n        margin-top: 50px;\n      }\n\n      .signined-text{\n        font-size: 30px;\n        color: #17b0a3;\n        margin-top: 15px;\n      }\n    }\n\n    \n  }\n}\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/Signin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"signin\"}},[_c('div',{staticClass:\"head\"},[(!_vm.signed)?_c('div',[_c('p',{staticClass:\"h2\"},[_vm._v(_vm._s(_vm.h2))])]):_c('div',[_c('p',{staticClass:\"h1\"},[_vm._v(_vm._s(_vm.h1))])])]),_vm._v(\" \"),_c('div',{staticClass:\"form\"},[(!_vm.signed)?_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phoneNumber),expression:\"phoneNumber\"}],attrs:{\"type\":\"tel\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.phoneNumber)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.phoneNumber=$event.target.value},_vm.vailablePhone]}}),_vm._v(\" \"),_c('p',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errorPormot))]),_vm._v(\" \"),_c('a',{class:(\"next-btn \" + (_vm.nextBtnDisabled ? 'disabled':'')),on:{\"click\":_vm.netx}},[_vm._v(_vm._s(_vm.btnText))])]):_c('div',[_c('p',{staticClass:\"signined-text\"},[_vm._v(_vm._s(_vm.successText))])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e00e9d8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Signin.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e00e9d8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Signin.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Signin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Signin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e00e9d8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Signin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Signin.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}