webpackJsonp([4],{FeBl:function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},IzcO:function(e,t){},mvHQ:function(e,t,n){e.exports={default:n("qkKv"),__esModule:!0}},qkKv:function(e,t,n){var s=n("FeBl"),r=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},viRm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("mvHQ"),r=n.n(s),i={name:"signin",data:function(){return{h1:"已签到",h2:"请完成签到",placeholder:"请输入手机号",btnText:"下一步",successText:"恭喜您签到成功",signed:!1,errorPormot:"",phoneNumber:"",nextBtnDisabled:!0,english:!1}},methods:{vailablePhone:function(){var e=this.phoneNumber;/(^1[3|4|5|7|8]\d{9}$)|(^09\d{8}$)/.test(e)?(this.errorPormot="",this.nextBtnDisabled=!1):(this.errorPormot="请输入有效的手机号码！",this.english&&(this.errorPormot="Please enter a valid phone number!"),this.nextBtnDisabled=!0)},netx:function(){var e=this;this.nextBtnDisabled||e.axios({method:"put",url:"/persondata",data:{tel:e.phoneNumber,signined:!0},baseURL:e.host.baseUrl}).then(function(t){console.log(t),t.data.code?(e.signed=!0,localStorage.removeItem("localData"),localStorage.setItem("localData",r()({tel:e.phoneNumber,signined:!0}))):(e.errorPormot="请输入您预留的手机号",e.english&&(e.errorPormot="Please enter your reserved mobile number"))})}},mounted:function(){var e=JSON.parse(localStorage.getItem("localData"));e&&e.signined&&(this.signed=!0),console.log(this.$route.query.lang),"en"===this.$route.query.lang&&(this.english=!0,this.h1="Checked in",this.h2="Please sign in",this.placeholder="Enter phone number",this.btnText="Next",this.successText="Congratulations")}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"signin"}},[n("div",{staticClass:"head"},[e.signed?n("div",[n("p",{staticClass:"h1"},[e._v(e._s(e.h1))])]):n("div",[n("p",{staticClass:"h2"},[e._v(e._s(e.h2))])])]),e._v(" "),n("div",{staticClass:"form"},[e.signed?n("div",[n("p",{staticClass:"signined-text"},[e._v(e._s(e.successText))])]):n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNumber,expression:"phoneNumber"}],attrs:{type:"tel",placeholder:e.placeholder},domProps:{value:e.phoneNumber},on:{input:[function(t){t.target.composing||(e.phoneNumber=t.target.value)},e.vailablePhone]}}),e._v(" "),n("p",{staticClass:"error"},[e._v(e._s(e.errorPormot))]),e._v(" "),n("a",{class:"next-btn "+(e.nextBtnDisabled?"disabled":""),on:{click:e.netx}},[e._v(e._s(e.btnText))])])])])},staticRenderFns:[]};var a=n("VU/8")(i,o,!1,function(e){n("IzcO")},null,null);t.default=a.exports}});
//# sourceMappingURL=4.6eca37c2dc680c8dc55d.js.map